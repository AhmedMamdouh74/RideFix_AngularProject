<div class="container mt-5 mb-5">
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card shadow-lg border-0 rounded-4 p-4">
        <h3 class="text-center text-primary mb-4 fw-bold">
          إكمال عملية التسجيل
        </h3>

        <form (ngSubmit)="submit()" enctype="multipart/form-data">
          <!-- رفع صورة البطاقة -->
          <div class="mb-4">
            <label class="form-label fw-semibold">تحميل صورة البطاقة</label>
            <div
              class="border border-2 rounded-3 p-4 text-center position-relative upload-box"
              [class.border-danger]="!identityImage && triedSubmit"
            >
              <input
                type="file"
                class="form-control position-absolute top-0 start-0 w-100 h-100 opacity-0"
                (change)="onFileSelected($event, 'identity')"
                accept="image/*"
                style="cursor: pointer"
              />
              <div *ngIf="identityPreview; else identityPlaceholder">
                <img
                  [src]="identityPreview"
                  class="img-fluid rounded shadow-sm"
                  style="max-height: 200px"
                  alt="معاينة البطاقة"
                />
              </div>
              <ng-template #identityPlaceholder>
                <i class="bi bi-card-image display-4 text-secondary"></i>
                <p class="text-muted">اضغط هنا لتحميل صورة البطاقة</p>
              </ng-template>
            </div>
            <div *ngIf="!identityImage && triedSubmit" class="text-danger mt-1">
              صورة البطاقة مطلوبة.
            </div>
          </div>

          <!-- رفع صورة الوجه -->
          <div class="mb-4">
            <label class="form-label fw-semibold">تحميل صورة الوجه</label>
            <div
              class="border border-2 rounded-3 p-4 text-center position-relative upload-box"
              [class.border-danger]="!faceImage && triedSubmit"
            >
              <input
                type="file"
                class="form-control position-absolute top-0 start-0 w-100 h-100 opacity-0"
                (change)="onFileSelected($event, 'face')"
                accept="image/*"
                style="cursor: pointer"
              />
              <div *ngIf="facePreview; else facePlaceholder">
                <img
                  [src]="facePreview"
                  class="img-fluid rounded shadow-sm"
                  style="max-height: 200px"
                  alt="معاينة الوجه"
                />
              </div>
              <ng-template #facePlaceholder>
                <i class="bi bi-person-square display-4 text-secondary"></i>
                <p class="text-muted">اضغط هنا لتحميل صورة الوجه</p>
              </ng-template>
            </div>
            <div *ngIf="!faceImage && triedSubmit" class="text-danger mt-1">
              صورة الوجه مطلوبة.
            </div>
          </div>

          <div class="d-grid">
            <button type="submit" class="btn btn-success btn-lg shadow-sm">
              إرسال التسجيل
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
