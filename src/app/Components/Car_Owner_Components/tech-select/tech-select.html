<!-- Main Content -->
<div class="main-content">
  <!-- Page Header -->
  <div class="page-header">
    <h1><i class="fas fa-users me-3"></i>اختيار الفنيين المتاحين</h1>
    <p>اختر الفنيين المناسبين لمشكلة سيارتك - يمكنك اختيار أكثر من فني واحد</p>
  </div>

  <!-- Technicians Grid -->
  <div class="technicians-grid" id="techniciansGrid">
    @for (item of filteredTech; track $index) {
    <div class="technician-card">
      <input
        type="checkbox"
        class="technician-checkbox"
        id="tech1"
        (change)="onCheckboxChange($event, item.id)"
      />
      <div class="technician-header">
        <img
          src="{{ item.faceImageURL }}"
          alt="{{ item.name }}"
          class="technician-avatar"
        />
        <div class="technician-info">
          <div class="technician-name">{{ item.name }}</div>
          <div class="technician-rating">
            <span class="rating-stars">★★★★★</span>
            <span class="rating-number">{{ item.reviews.rate }}</span>
            <span class="rating-count">({{ item.reviews.count }} تقييم)</span>
          </div>
        </div>
      </div>

      <div class="technician-description">{{ item.description }}</div>

      <div class="technician-actions">
        <button
          class="action-btn view-profile-btn"
          (click)="viewProfile(item.id)"
        >
          <i class="fas fa-user"></i>
          الملف الشخصي
        </button>
      </div>
    </div>
    }
    <!-- Submit Section -->
    <div class="submit-section">
      <div class="submit-info">
        <div
          class="selected-technicians-count"
          id="selectedTechniciansCount"
          [hidden]="SelectedCount > 0"
        >
          لم يتم اختيار أي فني
        </div>

        <div
          class="selected-technicians-count"
          id="selectedTechniciansCount"
          [hidden]="SelectedCount == 0"
        >
          لقد اختارت {{ SelectedCount }} من الفنيين
        </div>
        <div class="submit-description">
          سيتم إرسال طلبك إلى الفنيين المختارين وسيقوم أول فني متاح بالرد عليك
        </div>
      </div>
      <button
        class="submit-btn"
        id="submitBtn"
        (click)="onSubmit()"
        [disabled]="!(SelectedCount > 0)"
      >
        <i class="fas fa-paper-plane me-2"></i>
        إرسال الطلب للفنيين المختارين
      </button>
    </div>
  </div>
</div>
